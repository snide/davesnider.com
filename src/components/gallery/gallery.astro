---
const { folder } = Astro.props;

const folderImages = await Astro.glob('../../images/**/*').then((files) => {
  const images = files.map((file) => file.default);
  const filteredImages = images.filter((image) => image.src.includes(folder));

  const updatedFolderImages = filteredImages.map((image) => {
    return {
      ...image,
      location: image.src
    };
  });

  return updatedFolderImages;
});

import { Image } from 'astro:assets';
console.log('folder images', folderImages);
---

{
  folderImages.map((image, index) => {
    return <Image src={image} width={1200} alt="Folder image" />;
  })
}
<style>
  img {
    max-width: 1200px !important;
    width: 100% !important;
    height: auto;
    margin-bottom: 0.5rem !important;
    margin-left: auto;
    margin-right: auto;
  }

  img:last-child {
    margin-bottom: 0;
  }
</style>
