---
const { folder } = Astro.props;

// Get all images in /src/images then return only those that include the folder name
const images = await Astro.glob('../../../src/images/**/*').then((files) => {
  return files.map((file) => file.default);
});

const folderImages = images.filter((image) => {
  return image.src.includes(folder);
});

import { Image } from 'astro:assets';
console.log('folder images', folderImages);
---

{JSON.stringify(folderImages)}

{
  folderImages.map((image, index) => {
    return <Image src={image} width={1200} alt="Folder image" />;
  })
}
<style>
  img {
    max-width: 1200px !important;
    width: 100% !important;
    height: auto;
    margin-bottom: 0.5rem !important;
    margin-left: auto;
    margin-right: auto;
  }

  img:last-child {
    margin-bottom: 0;
  }
</style>
